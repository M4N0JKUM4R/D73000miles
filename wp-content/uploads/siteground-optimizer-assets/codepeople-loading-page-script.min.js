var cp_loadingpage=cp_loadingpage||{};(function(){var a=cp_loadingpage,f={threshold:100,effect:"show",effectspeed:0,codeblock:'',loadingScreen:!0,removeInOnLoad:!1,graphic:'bar',backgroundColor:"#000",foregroundColor:"#fff",text:!0,deepSearch:!1,modifyDisplayRule:0,pageEffect:"none",onComplete:function(){typeof window.afterCompleteLoadingScreen!='undefined'&&window.afterCompleteLoadingScreen()}},c=[],d=0,e=!1,b=0,g,h;a.extend=function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c},a.validateScreenSize=function(){var b=a.options,c,e,f,g,d;return!!(!('screen_size'in b)||b.screen_size=='all'||!('screen_width'in b))||(!!(c=parseFloat(b.screen_width),isNaN(c)||!isFinite(c))||(e=window,f=document,g=f.documentElement,d=e.innerWidth||g.clientWidth,b.screen_size=='greater'&&c<=d||b.screen_size=='lesser'&&d<=c))},a.imgLoaded=function(a){return a.complete&&a.naturalHeight!==0},a.displayBody=function(){jQuery('html').append('<style>body{'+(a.options.modifyDisplayRule*1?'display:block':'visibility:visible')+';}</style>')},a.loadOriginalImg=function(){jQuery('body').find('.lp-lazy-load').each(function(){var a=jQuery(this),b=a.attr('data-src'),c=a.attr('data-srcset');a.removeClass('lp-lazy-load'),typeof b!='undefined'&&a.attr('src',b),typeof c!='undefined'&&a.attr('srcset',b)})},a.graphicAction=function(b,c){'graphic'in a.options&&'graphics'in a&&a.options.graphic in a.graphics&&a.graphics[a.options.graphic].created&&a.graphics[a.options.graphic][b](c)},a.ApplyAnimationToElement=function(a){jQuery('body').addClass('lp-'+a)},a.onLoadComplete=function(){var b=typeof lp_close_btn=='undefined'&&'additionalSeconds'in a.options&&jQuery.isNumeric(a.options.additionalSeconds)?parseInt(a.options.additionalSeconds):0,c=function(){jQuery('#loading_page_codeBlock,.lp-close-screen').remove(),a.graphicAction('complete',function(){a.ApplyAnimationToElement(a.options.pageEffect),a.options.onComplete(),jQuery(document).trigger('loadingScreenCompleted')})};b?setTimeout(function(){c()},b*1e3):c()},a.setLoadImgEvents=function(){for(var f=jQuery(window).height(),d=0,g=c.length,e;d<g;d++)a.imgLoaded(c[d])||(e=jQuery(c[d]),(a.options.deepSearch||e.offset().top<f)&&(b++,e.on('load',function(){a.completeImageLoading()})));b==0&&this.completeImageLoading()},a.completeImageLoading=function(){d++;var c=b?Math.min(d/b*100,100):100;a.graphicAction('set',c),b<=d&&!(a.options.removeInOnLoad*1)&&a.destroyLoader()},a.destroyLoader=function(){if(a.options.loadingScreen&&!e){a.displayBody();var c=Math.min(b?d/b*100:0,100),f=function(){a.graphicAction('set',c),c==100?a.onLoadComplete():(c=Math.min(c+5,100),setTimeout(f,0))};e=!0,a.loadOriginalImg(),f()}},a.loadingPage=function(){a.displayBody(),c=jQuery('body').find('img:not(.lp-lazy-applied)'),c.length&&a.setLoadImgEvents()},typeof loading_page_settings!='undefined'?a.options=a.extend(f,loading_page_settings):a.options=f,a.options.text*=1,a.options.loadingScreen*=1,a.options.loadingScreen&&a.validateScreenSize()?(jQuery(document).trigger('loadingScreenShow'),a.options.closeBtn&&(g=jQuery('<span class="lp-close-screen">X</span>'),g.click(function(){lp_close_btn=!0,e?a.onLoadComplete():a.destroyLoader()}),jQuery('html').append(g)),a.options.codeblock&&a.options.codeblock.length&&jQuery('html').append(a.options.codeblock),typeof a.graphics!='undefined'&&typeof a.graphics[a.options.graphic]!='undefined'&&(a.graphics[a.options.graphic].create(a.options),h=document.getElementById('loading_page_codeBlock'),h&&(h.style.display='block'))):(a.displayBody(),a.options.loadingScreen=0)})(),jQuery(function(){cp_loadingpage.options.loadingScreen&&cp_loadingpage.loadingPage()}),jQuery(window).on('load',function(){cp_loadingpage.loadOriginalImg(),cp_loadingpage.destroyLoader()})