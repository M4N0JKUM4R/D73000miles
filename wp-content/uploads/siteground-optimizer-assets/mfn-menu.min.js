(function(a){"use strict";a.fn.mfnMenu=function(b){var c=a(this),e={addLast:!1,arrows:!1,delay:100,hoverClass:'hover',mobileInit:768,responsive:!0},f,d,g;b=a.extend(e,b),f=function(){a('li:has(ul)',c).addClass('submenu'),a('li:has(ul)',c).append('<span class="menu-toggle"></span>'),c.children('li:has( ul.mfn-megamenu )').addClass('mfn-megamenu-parent'),a('.submenu ul li:last-child',c).addClass('last-item'),b.addLast&&a('> li:last-child',c).addClass('last').prev().addClass('last'),b.arrows&&a('li ul li:has(ul) > a',c).append('<i class="menu-arrow icon-right-open"></i>')},d=function(){window.innerWidth>=b.mobileInit||!b.responsive?a('> li, ul:not(.mfn-megamenu) li',c).on('mouseenter',function(){a(this).stop(!0,!0).addClass(b.hoverClass),a(this).children('ul').stop(!0,!0).fadeIn(b.delay)}).on('mouseleave',function(){a(this).stop(!0,!0).removeClass(b.hoverClass),a(this).children('ul').stop(!0,!0).fadeOut(b.delay)}):(a('li',c).off('hover'),a('li > .menu-toggle',c).off('click').on('click',function(){var c=a(this).closest('li');c.hasClass(b.hoverClass)?c.removeClass(b.hoverClass).children('ul').stop(!0,!0).fadeOut(b.delay):c.addClass(b.hoverClass).children('ul').stop(!0,!0).fadeIn(b.delay)}))},a(window).on('resize',d),g=function(){f(),d()},g()}})(jQuery)